(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,a,t){},19:function(e,a,t){"use strict";t.r(a);var n=t(1),l=t.n(n),r=t(8),s=t.n(r),i=t(21);var u=function(){const[e,a]=Object(n.useState)({username:"",email:"",password:"",userType:"customer",businessBio:"",businessFields:[]}),[t,r]=Object(n.useState)([]),[s,u]=Object(n.useState)([]),[o,c]=Object(n.useState)({businessId:"",rating:"",comment:""}),m=e=>{const{name:t,value:n}=e.target;a(e=>({...e,[t]:n}))},p=e=>{const{value:t,checked:n}=e.target;a(e=>{const a=n?[...e.businessFields,t]:e.businessFields.filter(e=>e!==t);return{...e,businessFields:a}})},d=e=>{const{name:a,value:t}=e.target;c(e=>({...e,[a]:t}))};return Object(n.useEffect)(()=>{(async()=>{try{const a=await i.a.get("http://adel01.herokuapp.com/api/tasks");r(a.data);const t=await i.a.get("http://adel01.herokuapp.com/api/ratings/top-businesses");u(t.data)}catch(e){console.error("Error fetching data:",e)}})()},[]),l.a.createElement("div",{className:"App"},l.a.createElement("h1",null,"Aidel"),l.a.createElement("h2",null,"Register"),l.a.createElement("form",{onSubmit:async a=>{a.preventDefault();try{const a=await i.a.post("adel01.herokuapp.com/api/users/register",e);console.log(a.data),alert("Registration successful!")}catch(t){console.error("Error registering user:",t),alert("Error registering user")}}},l.a.createElement("input",{type:"text",name:"username",placeholder:"Username",value:e.username,onChange:m,required:!0}),l.a.createElement("input",{type:"email",name:"email",placeholder:"Email",value:e.email,onChange:m,required:!0}),l.a.createElement("input",{type:"password",name:"password",placeholder:"Password",value:e.password,onChange:m,required:!0}),l.a.createElement("select",{name:"userType",value:e.userType,onChange:m},l.a.createElement("option",{value:"customer"},"Customer"),l.a.createElement("option",{value:"business"},"Business")),"business"===e.userType&&l.a.createElement(l.a.Fragment,null,l.a.createElement("textarea",{name:"businessBio",placeholder:"Business Bio",value:e.businessBio,onChange:m,required:!0}),l.a.createElement("fieldset",null,l.a.createElement("legend",null,"Select Fields:"),l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",name:"businessFields",value:"Sports & Healthcare",onChange:p}),"Sports & Healthcare"),l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",name:"businessFields",value:"Education, Tutoring and Consulting",onChange:p}),"Education, Tutoring and Consulting"),l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",name:"businessFields",value:"Manual labour, home services and repairs",onChange:p}),"Manual labour, home services and repairs"),l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",name:"businessFields",value:"Event planning, catering and decoration",onChange:p}),"Event planning, catering and decoration"),l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",name:"businessFields",value:"Fashion & Tailoring",onChange:p}),"Fashion & Tailoring"))),l.a.createElement("button",{type:"submit"},"Register")),l.a.createElement("h2",null,"Submit Rating"),l.a.createElement("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("token"),t=await i.a.post("http://adel01.herokuapp.com/api/ratings",o,{headers:{"x-auth-token":e}});console.log(t.data),alert("Rating submitted successfully!")}catch(a){console.error("Error submitting rating:",a),alert("Error submitting rating")}}},l.a.createElement("input",{type:"text",name:"businessId",placeholder:"Business ID",value:o.businessId,onChange:d,required:!0}),l.a.createElement("input",{type:"number",name:"rating",placeholder:"Rating (1-5)",value:o.rating,onChange:d,min:"1",max:"5",required:!0}),l.a.createElement("textarea",{name:"comment",placeholder:"Comment",value:o.comment,onChange:d}),l.a.createElement("button",{type:"submit"},"Submit Rating")),l.a.createElement("h2",null,"Top Businesses"),l.a.createElement("ul",null,s.map(e=>l.a.createElement("li",{key:e._id},l.a.createElement("h3",null,e.username),l.a.createElement("p",null,"Average Rating: ",e.averageRating.toFixed(1)),l.a.createElement("p",null,"Total Ratings: ",e.totalRatings)))),l.a.createElement("h2",null,"Available Tasks"),l.a.createElement("ul",null,t.map(e=>l.a.createElement("li",{key:e._id},l.a.createElement("h3",null,e.title),l.a.createElement("p",null,e.description),l.a.createElement("p",null,"Category: ",e.category),l.a.createElement("p",null,"Location: ",e.location),l.a.createElement("p",null,"Price: $",e.price)))))};t(18);s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(u,null)),document.getElementById("root"))},9:function(e,a,t){e.exports=t(19)}},[[9,1,2]]]);
//# sourceMappingURL=main.72cb2118.chunk.js.map